<!DOCTYPE html>
<html lang="en" ng-app="pfc">
    <head>
        <title>Personal Finance Checkup</title>
        
        <!-- "I'm so meta. Even this" -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Personal Finance checkup following the guidelines of /r/personalfinance on Reddit.">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <!-- Favicon -->
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
        <link rel="icon" href="favicon.ico" type="image/x-icon">

        <!-- Bootstrap -->
        <link rel="stylesheet" type="text/css" href="bower_components/dist/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.4/darkly/bootstrap.min.css">

        <link rel="stylesheet" type="text/css" href="bower_components/animate.css/animate.min.css">

        <!-- Angular Libs -->
        <script src="bower_components/angular/angular.min.js" type="text/javascript"></script>

        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
          <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <style>
        	label {
        		font-weight: normal;
        		font-size: 13px;
        	}
        	textarea, textarea.form-control, 
        	input[type=text], 
        	input[type=password], 
        	input[type=email], 
        	input[type=number], 
        	[type=text].form-control, 
        	[type=password].form-control{
        		font-size: 11px;
        		text-align: center;
        		font-weight: bold;
        	}
        	.extra-spacing li {
        		margin-bottom: 15px;
        	}
        </style>
    </head>
    <body ng-controller="body" class="container">
        
        <div class="text-center page-header">
	        <h1>Personal Finance Checkup</h1>
	        <p>Based on advice from <a href="http://www.reddit.com/r/personalfinance/wiki/commontopics">/r/personalfinance</a>. </p>
	    </div>

	    <div class="row">
			
		    <form name="mainForm" class="col-md-6">			    	
		    	
		    	<legend 
		    		class="text-center" 
		    		ng-class="{ 'text-success': mainForm.$valid, 'text-danger': mainForm.$invalid || mainForm.$pristine  }">
		    		Your Info
		    	</legend>

		    	<!-- Age -->
				<div class="form-group" ng-class="{ 'has-success': mainForm.age.$valid, 'has-error': mainForm.age.$invalid }">
					<label class="col-md-4 control-label" for="age">
						<a target="_blank" href="https://www.reddit.com/r/personalfinance/wiki/teachme">
							<i class="glyphicon glyphicon-info-sign"></i>
						</a>
							Age
					</label>  
					<div class="input-group input-group-sm col-md-4">
	    				<span class="input-group-addon text-success">#</span>
						<input 
							id="age"
							ng-model="info.age" 
							name="age" 
							type="number"
							class="form-control"
							min="0"
							required>
	  				</div>
				</div>

		    	<!-- Annual Salary -->
				<div class="form-group" ng-class="{ 'has-success': mainForm.salary.$valid, 'has-error': mainForm.salary.$invalid }">
					<label class="col-md-4 control-label" for="salary">Annual Salary</label>  
					<div class="input-group input-group-sm col-md-4">
	    				<span class="input-group-addon text-success">$</span>
						<input 
							id="salary"
							ng-model="info.salary" 
							name="salary" 
							type="number"
							class="form-control"
							min="0"
							required>
	  				</div>
				</div>

				<!-- Emergency Account amount -->
				<div class="form-group">
					<label class="col-md-4 control-label" for="emergency_account">
						<a target="_blank" href="http://www.reddit.com/r/personalfinance/wiki/emergencyfunds">
							<small><i class="glyphicon glyphicon-info-sign"></i></small>
						</a>
							Emergency Account
					</label>  
					<div class="input-group input-group-sm col-md-4">
	    				<span class="input-group-addon text-success">$</span>
						<input 
							id="emergency_account"
							ng-model="info.emergency_account" 
							name="emergency_account" 
							type="text" 
							class="form-control">
	  				</div>
				</div>

				<!-- Savings Account amount -->
				<div class="form-group">
					<label class="col-md-4 control-label" for="savings_account">
						Savings Account(s)
					</label>  
					<div class="input-group input-group-sm col-md-4">
	    				<span class="input-group-addon text-success">$</span>
						<input 
							id="savings_account"
							ng-model="info.savings_account" 
							name="savings_account" 
							type="text" 
							class="form-control">
	  				</div>
				</div>

				<!-- 401k -->
				<div class="form-group">
					<label class="col-md-4 control-label" for="retirement_401k_principle">
						<a target="_blank" href="http://www.reddit.com/r/personalfinance/wiki/401k">
							<small><i class="glyphicon glyphicon-info-sign"></i></small>
						</a>
							401k
					</label>  
					<div class="input-group input-group-sm col-md-4">
	    				<span class="input-group-addon text-success">$</span>
						<input 
							id="retirement_401k_principle"
							ng-model="info.retirement_401k.principle" 
							name="retirement_401k" 
							type="text" 
							class="form-control">
	  				</div>
	  				<div style="margin-top:5px;">
		  				<div class="col-md-offset-1 col-md-3">
		  					<label for="retirement_401k_company_match">Company Match</label>
		  				</div>
		  				<div class="input-group input-group-sm col-md-3 col-md-offset-4">
		    				<span class="input-group-addon text-success">%</span>
							<input 
								id="retirement_401k_company_match"
								ng-model="info.retirement_401k.company_match" 
								name="retirement_401k" 
								type="text"
								step="any" 
								class="form-control">
		  				</div>
		  			</div>
				</div>

				<!-- IRA -->
				<div class="form-group">
					<label class="col-md-4 control-label" for="ira">
						<a target="_blank" href="http://www.reddit.com/r/personalfinance/wiki/iras">
							<small><i class="glyphicon glyphicon-info-sign"></i></small>
						</a>
							IRA
					</label>  
					<div class="input-group input-group-sm col-md-4">
	    				<span class="input-group-addon text-success">$</span>
						<input 
							id="ira"
							ng-model="info.ira" 
							name="ira" 
							type="text" 
							class="form-control">
	  				</div>
				</div>

				<!-- Taxable Investments -->
				<div class="form-group">
					<label class="col-md-4 control-label" for="taxable_investments">
						<a target="_blank" href="http://www.reddit.com/r/personalfinance/wiki/investing">
							<small><i class="glyphicon glyphicon-info-sign"></i></small>
						</a>
							Taxable Investments
					</label>  
					<div class="input-group input-group-sm col-md-4">
	    				<span class="input-group-addon text-success">$</span>
						<input 
							id="taxable_investments"
							ng-model="info.taxable_investments" 
							name="taxable_investments" 
							type="text" 
							class="form-control">
	  				</div>
				</div>

				<!-- Loans -->
				<div class="form-group form-inline">
					<label class="col-md-4 control-label">
						<a target="_blank" href="http://www.reddit.com/r/personalfinance/wiki/debt">
							<small><i class="glyphicon glyphicon-info-sign"></i></small>
						</a>
							Debt <small>(Loans, Mortgages)</small></label>
					<div class="input-group input-group-sm col-md-4">				
						<button type="button" class="btn btn-info btn-xs" ng-click="addALoan()">
							<i class="glyphicon glyphicon-plus"></i>
							Add a loan
						</button>
					</div>
					<br/><br/>
					<div class="list-group col-md-offset-1">
						<a ng-repeat="loan in info.loans" class="row list-group-item">
							<div class="input-group input-group-sm col-md-3">
								<input class="form-control" ng-model="loan.name">
							</div>

							<div class="input-group input-group-sm col-md-4">
								<span class="input-group-addon text-success">$</span>
								<input class="form-control" ng-model="loan.principle" type="number">
							</div>

							<span class="text-warning">@</span>
							
							<div class="input-group input-group-sm col-md-2">
								<input class="form-control" ng-model="loan.interest_rate" type="number" step="any">
								<span class="input-group-addon">%</span>
							</div>
							
							<div class="btn btn-danger btn-sm pull-right" ng-click="removeLoanAt($index)">
								<i class="glyphicon glyphicon-remove"></i>
							</div>
						</a>
					</div>
				</div>

		    </form>
			
			<div class="col-md-6">

				<div ng-show="mainForm.$invalid">
					<legend>Please Complete Form</legend>
					<p>
						At the very least, please fill out your
						<span class="text-primary" ng-show="mainForm.age.$error.required"><label for="age">Age</label></span>
						<span ng-show="mainForm.salary.$error.required && mainForm.age.$error.required"> and</span>
						<span class="text-primary" ng-show="mainForm.salary.$error.required"> <label for="salary"> Salary</label></span>.
					</p>
				</div>

				<!-- Alerts -->
				<div ng-show="mainForm.$valid">
					
					<!-- Recommendations -->
					<legend class="text-center text-success">Recommendations For You</legend>
					<ol class="extra-spacing">
						
						<!-- Emergency account -->
						<li ng-show="info.emergency_account == 0 || threeMonthsSalary() > info.emergency_account">
							
							<span ng-show="info.savings_account > 0 && threeMonthsSalary() > info.emergency_account">
								Before adding to your savings account(s),
							</span>
							
							<span ng-hide="info.savings_account > 0 && threeMonthsSalary() > info.emergency_account">
								<span class="text-warning">Immediately</span> 
							</span>

							build an

							<a target="_blank" href="http://www.reddit.com/r/personalfinance/wiki/commontopics#wiki_step_1.3A_build_an_emergency_fund">
								emergency fund
							</a>
							with <b>at least</b> 3 months salary <small class="text-warning">({{ threeMonthsSalary() | currency }})</small>.
						</li>

						<!-- Loans -->
						<li ng-show="info.salary < getTotalLoans()">
							You have <span class="text-danger">high amounts of debt</span>. 
							Educate yourself on
							<a target="_blank" href="http://www.reddit.com/r/personalfinance/wiki/debt">personal debt</a>, 
							<a target="_blank" href="http://www.reddit.com/r/personalfinance/wiki/housing">mortgages</a>,
							<a target="_blank" href="http://www.reddit.com/r/personalfinance/wiki/studentloans">student loans</a>,
							and
							<a target="_blank" href="http://www.reddit.com/r/personalfinance/wiki/collections">credit repair</a>.
						</li>

						<li ng-show="info.loans.length > 0">
							Before making any big purchases or plans, pay down your loan<span ng-show="info.loans.length > 1">s</span><span ng-show="info.loans.length == 1">.</span>
							<span ng-show="info.loans.length > 1">
								in order of desc. interest rate:
								<ul>
									<li ng-repeat="loan in info.loans | orderBy: 'interest_rate': true"> {{ loan.name }} ({{ loan.interest_rate }} %)</li>
								</ul>
							</span>
						</li>

						<li ng-show="(info.taxable_investments + info.savings_account) > 0 && getTotalLoans() > 0">
							Consider using a portion of your taxable investments 
							and/or savings to pay down your loans and avoid interest fees.
						</li>

						<!-- 401k -->
						<li ng-show="info.retirement_401k.principle == 0 && (info.ira > 0 || info.taxable_investments > 0)">
							In most cases, it is better to contribute to your 401k before contributing to your 
							<span ng-show="info.ira > 0">IRA</span><span ng-show="info.taxable_investments > 0"> or Taxable Investments</span>.				
						</li>

						<!-- Taxable Investments -->
						<li ng-show="info.taxable_investments > info.retirement_401k || info.taxable_investments > info.salary">
							Your taxable investments 
							<small class="text-warning">({{ info.taxable_investments | currency }})</small> could grow faster 
							in a tax sheltered account.				
						</li>

						<!-- Age -->
						<li ng-show="info.age < 22">
							Read <a target="_blank" href="https://www.reddit.com/r/personalfinance/wiki/teachme">this advice</a> targeted towards young people.
						</li>
					</ol>
				</div>
			</div>
		</div>

	    <!-- 
	    	Form
				- Salary/income (pretax) (annual, monthly, bi-weekly)
				
				- Emergency account?
					- Do you have it?
					- How much is in it?
	
				- Loans
					- School
					- Credit Cards
					- Car
					-
						- How much is each loan?
						- What is the interest rate of each loan? 

				- Savings acounts (total)
					- Do you have it?
					- How much is in it?
					- How much do you contribute annually?

				- Have a 401k?
					- Do you have it?
					- Does company match?
				
				- Have IRA?
					- Do you have it?
					- How much is in it?
					- How much do you contribute annually?
				
				- Post-tax investments?
					- Do you have it?
					- How much is in it?
					- How much do you contribute annually?

	    -->

        <!-- Javascript-->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="app.js" type="text/javascript"></script>
    </body>
</html>
